import {Meteor} from 'meteor/meteor';
import {GroupInvoice} from '../../imports/api/collections/groupInvoice';
import {Order} from '../../imports/api/collections/order';
import {Invoices} from '../../imports/api/collections/invoice';
import {EnterBills} from '../../imports/api/collections/enterBill';
import {QuantityRangeMapping} from '../../imports/api/collections/quantityRangeMapping';
import {AverageInventories} from '../../imports/api/collections/inventory';
import {UnitConvert} from '../../imports/api/collections/unitConvert';
import {PurchaseOrder} from '../../imports/api/collections/purchaseOrder';
import {ReceivePayment} from '../../imports/api/collections/receivePayment';
import {PayBills} from '../../imports/api/collections/payBill';
import {PrepaidOrders} from '../../imports/api/collections/prepaidOrder';
Meteor.startup(function () {
    GroupInvoice._ensureIndex({startDate: 1, endDate: 1, vendorOrCustomerId: 1});
    Order._ensureIndex({status: 1, paymentStatus: 1, 'item.itemId': 1, orderDate: 1});
    // Order._ensureIndex({customerId: 1,orderDate: 1, total: 1, branchId: 1}, {unique: true, sparse: true});
    AverageInventories._ensureIndex({stockLocationId: 1, price: 1, itemId: 1, branchId: 1});
    Invoices._ensureIndex({invoiceDate: 1, status: 1, refBillId: 1});
    EnterBills._ensureIndex({enterBillDate: 1, staffId: 1, vendorId: 1, branchId: 1, status: 1});
    PurchaseOrder._ensureIndex({purchaseOrderDate: 1, total: 1, vendorId: 1, branchId:1, status: 1, paymentStatus: 1});
    ReceivePayment._ensureIndex({staffId: 1, paymentDate: 1, invoiceId: 1, branchId: 1});
    PayBills._ensureIndex({staffId: 1, paymentDate: 1, billId: 1, branchId: 1});
    PrepaidOrders._ensureIndex({vendorId: 1, prepaidOrderDate: 1,total: 1, branchId: 1});
    QuantityRangeMapping._ensureIndex({startQty: 1, endQty: 1});
    UnitConvert._ensureIndex({itemId: 1});
});